<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tip 166 -  Data Storage Options with Azure Storage and Cosmos DB | Azure Tips and Tricks</title>
    <meta name="description" content="">
    <link rel="apple-touch-icon" sizes="57x57" href="/AzureTipsAndTricks/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/AzureTipsAndTricks/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/AzureTipsAndTricks/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/AzureTipsAndTricks/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/AzureTipsAndTricks/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/AzureTipsAndTricks/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/AzureTipsAndTricks/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/AzureTipsAndTricks/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/AzureTipsAndTricks/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/AzureTipsAndTricks/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/AzureTipsAndTricks/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/AzureTipsAndTricks/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/AzureTipsAndTricks/favicon-16x16.png">
  <link rel="manifest" href="/AzureTipsAndTricks/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/AzureTipsAndTricks/assets/css/0.styles.2190fd11.css" as="style"><link rel="preload" href="/AzureTipsAndTricks/assets/js/app.2e99b779.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/4.42b4ecad.js" as="script"><link rel="preload" href="/AzureTipsAndTricks/assets/js/78.969ebd2d.js" as="script"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/10.23222809.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/100.c3f7ad2b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/101.5cec8a7b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/102.625cd5f8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/103.d3596cb8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/104.264a6e3f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/105.68196946.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/106.5881d07c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/107.5e7c30a7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/108.889333bd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/109.d02cb5aa.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/11.6c3c3634.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/110.749cc4af.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/111.ace4b528.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/112.c6856812.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/113.5bd91ed4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/114.3a5a894c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/115.f91703fc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/116.02f8e8fb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/117.1b7e04c5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/118.11da1178.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/119.af2a27bb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/12.9429b2c2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/120.98ce0287.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/121.89509727.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/122.94de9a67.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/123.7ea01c8d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/124.0a893554.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/125.d50613e9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/126.6b224796.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/127.ad90f56e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/128.f07ae2de.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/129.6f792b77.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/13.207ee72c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/130.c1bdaa01.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/131.689f6a24.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/132.5439db66.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/133.e3f005eb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/134.902670fe.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/135.d2ca678d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/136.01d5f1eb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/137.c773b362.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/138.9b974475.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/139.3cf29514.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/14.ccbbcfb7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/140.52358987.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/141.ecd2c379.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/142.3fd8ba17.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/143.b9c82178.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/144.ed5a6e68.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/145.8c17d1c1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/146.2e383f11.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/147.583547e0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/148.847f71bc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/149.cf14a923.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/15.557252a1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/150.fc417edc.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/151.49158ba1.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/152.41fbddd9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/153.6d62698b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/154.dcb65f1b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/155.c47f4f94.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/156.15d340ca.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/157.f4d3c03c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/158.a2191408.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/159.9fdd6cee.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/16.7f84482e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/160.42d8dcae.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/161.3b917d93.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/162.dbdca4ef.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/163.3d221f2e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/164.63cb3cc5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/165.9822b71c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/166.62f0b1c0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/167.cb471ba8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/168.4cb569fa.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/169.53f82512.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/17.7e91a93a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/170.81786125.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/171.3205146a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/172.a918c52d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/173.27680cd7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/174.e95715fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/175.c387ad62.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/176.8412175a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/177.b31b05e5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/178.aa19cfc7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/179.87d2a280.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/18.7bef39fb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/180.3286ba7f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/181.de48653e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/182.5dbe3cfb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/183.4c16f6ca.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/184.522bf206.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/185.b4f8bfaa.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/186.9b109863.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/187.ac810de4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/188.2b10cbf2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/189.404f5a16.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/19.d813aff8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/190.07e256ae.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/191.0d671bdf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/20.a8190f46.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/21.613cb981.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/22.5468b0cd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/23.4e3164f9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/24.57e06756.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/25.e0b971c5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/26.139b7914.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/27.349e78c4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/28.b33b3ecf.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/29.ccabc6a2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/3.64c8908f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/30.21aa3b90.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/31.5aaa7596.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/32.28b6a589.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/33.c16c5977.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/34.8a9161df.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/35.5d15c3b5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/36.e2d06d32.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/37.523e6237.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/38.9ca06ca3.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/39.aa4cfb1b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/40.4662cb4e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/41.08b3e6bd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/42.8ec9ac01.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/43.2e1b9a64.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/44.dc17ca22.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/45.edb2a6fd.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/46.26f8abef.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/47.ec61cc18.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/48.c42d5aee.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/49.e48448f4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/5.058e843f.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/50.b09e34ff.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/51.248804b5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/52.1df1a7b7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/53.4c46f7ea.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/54.c5731615.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/55.4320e7b9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/56.6c4e07a0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/57.ec7deefa.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/58.e61b3b32.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/59.654dd4a5.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/6.f1e92f96.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/60.ac93c7a8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/61.b9a91309.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/62.11f146c8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/63.bd5b4bd4.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/64.f9260f13.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/65.2141829c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/66.5da239ba.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/67.e4ef6762.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/68.3e6d758b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/69.effae857.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/7.ee00b141.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/70.b7adb426.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/71.48fd58e7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/72.e40391c2.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/73.45591f14.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/74.b0c0f4fb.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/75.04ed7196.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/76.572becc7.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/77.b86d5096.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/79.bc30ac92.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/8.5287ec51.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/80.55de8772.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/81.0f7b971e.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/82.a2bf5b79.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/83.ae13f7a9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/84.c6988842.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/85.b63ba098.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/86.00803912.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/87.a52dc9d9.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/88.09a3833c.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/89.484e264a.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/9.33d043c0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/90.1f70aa86.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/91.17e85a16.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/92.7c6bc3a8.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/93.4baaa6f0.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/94.8874df99.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/95.f4b7a309.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/96.0cde166d.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/97.dc9a7e4b.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/98.0bd33e90.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/99.8a8e2582.js"><link rel="prefetch" href="/AzureTipsAndTricks/assets/js/vendors~docsearch.9a8918f9.js">
    <link rel="stylesheet" href="/AzureTipsAndTricks/assets/css/0.styles.2190fd11.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AzureTipsAndTricks/" class="home-link router-link-active"><!----> <span class="site-name">Azure Tips and Tricks</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AzureTipsAndTricks/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://videos.azuredev.tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Videos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/AzureTipsAndTricks/#site-map" class="nav-link">eBooks</a></div><div class="nav-item"><a href="https://github.com/Microsoft/AzureTipsAndTricks/issues/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Questions?
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://microsoft.github.io/AzureTipsAndTricks/rss.xml" class="nav-link">
  RSS Feed
</a></div> <a href="https://github.com/microsoft/azuretipsandtricks" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/AzureTipsAndTricks/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://videos.azuredev.tips" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Videos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/AzureTipsAndTricks/#site-map" class="nav-link">eBooks</a></div><div class="nav-item"><a href="https://github.com/Microsoft/AzureTipsAndTricks/issues/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Questions?
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://microsoft.github.io/AzureTipsAndTricks/rss.xml" class="nav-link">
  RSS Feed
</a></div> <a href="https://github.com/microsoft/azuretipsandtricks" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/AzureTipsAndTricks/" class="sidebar-link">Welcome</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Tips</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Recently Added</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>AzCopy</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>App Service</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CLI</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cloud Shell</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Cognitive Services</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Containers</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Cosmos DB</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/AzureTipsAndTricks/blog/tip185.html" class="sidebar-link">Tip 185 - Performance Testing on Cosmos DB</a></li><li><a href="/AzureTipsAndTricks/blog/tip65.html" class="sidebar-link">Tip 65 - Use Visual Studio Code to work with Cosmos DB</a></li><li><a href="/AzureTipsAndTricks/blog/tip66.html" class="sidebar-link">Tip 66 - Using the Data Migration Tool with Cosmos DB</a></li><li><a href="/AzureTipsAndTricks/blog/tip67.html" class="sidebar-link">Tip 67 - Querying documents properties with special characters in Cosmos DB</a></li><li><a href="/AzureTipsAndTricks/blog/tip68.html" class="sidebar-link">Tip 68 - Access Cosmos DB through a .NET Application</a></li><li><a href="/AzureTipsAndTricks/blog/tip152.html" class="sidebar-link">Tip 152 - Get the Record Count in Cosmos DB</a></li><li><a href="/AzureTipsAndTricks/blog/tip166.html" class="active sidebar-link">Tip 166 -  Data Storage Options with Azure Storage and Cosmos DB</a></li><li><a href="/AzureTipsAndTricks/blog/tip167.html" class="sidebar-link">Tip 167 - Migrating Data from Cosmos DB to Local JSON files</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>DevOps</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Functions</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HD Insight</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>iOS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>IoT</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Key Vault</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Logic Apps</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Media Services</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Portal</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>PowerShell</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Productivity</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SAP</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SendGrid</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SignalR</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>SQL</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Storage</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Virtual Machines</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>VNET</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content default"><h4 id="azure-table-storage-and-azure-cosmos-db"><a href="#azure-table-storage-and-azure-cosmos-db" aria-hidden="true" class="header-anchor">#</a> Azure Table Storage and Azure Cosmos DB</h4> <p>Before you dive into this article, keep in mind that this is not a comparison and use what you feel is right for your scenario.</p> <h4 id="azure-table-storage-in-a-nutshell"><a href="#azure-table-storage-in-a-nutshell" aria-hidden="true" class="header-anchor">#</a> Azure Table Storage in a nutshell</h4> <p><a href="https://azure.microsoft.com/services/storage/tables/" target="_blank" rel="noopener noreferrer">Azure Table Storage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> offers a NoSQL key-value store for semi-structured data.
Unlike a traditional relational database, each entity (such as a row - in relational database terminology) can have a different structure, allowing your application to evolve without downtime to migrate between schemas.</p> <h4 id="azure-cosmos-db-in-a-nutshell"><a href="#azure-cosmos-db-in-a-nutshell" aria-hidden="true" class="header-anchor">#</a> Azure Cosmos DB in a nutshell</h4> <p><a href="https://azure.microsoft.com/services/cosmos-db/" target="_blank" rel="noopener noreferrer">Azure Cosmos DB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is a multimodal database service designed for global use in mission-critical systems. Not only does it expose a Table API, it also has a SQL API, Apache Cassandra, MongoDB, Gremlin and Azure Table Storage. These allow you to easily swap out existing dbs with a Cosmos DB implementation.</p> <h4 id="performance"><a href="#performance" aria-hidden="true" class="header-anchor">#</a> Performance</h4> <p>Azure Table Storage has no upper bound on latency. Cosmos DB defines latency of single-digit milliseconds for reads and writes along with operations at sub-15 milliseconds at the 99th percentile worldwide. (That was a mouthful) Throughput is limited on Table Storage to 20,000 operations per second. On Cosmos DB, there is no upper limit on throughput, and more than 10 million operations per second are supported. Unlike Table Storage, Cosmos DB automatically indexes on all properties, and queries can take advantage of this to improve performance.</p> <h4 id="global-distribution"><a href="#global-distribution" aria-hidden="true" class="header-anchor">#</a> Global Distribution</h4> <p>Azure Table Storage supports a single region with an optional read-only secondary region for availability. Cosmos DB supports distribution from 1 to more than 30 regions with automatic failovers worldwide. You can easily manage this from the Azure portal and define the failover behavior. Five defined consistency levels allow you to select the right balance between availability, latency, throughput, and consistency.</p> <h4 id="billing"><a href="#billing" aria-hidden="true" class="header-anchor">#</a> Billing</h4> <p>Azure Table Storage uses storage volume to determine billing. It is priced per GB and the rates vary depending on the redundancy level selected. Pricing is tiered to get progressively cheaper per GB the more storage you use. Operations incur a charge measured per 10,000 transactions. All operation types are treated the same.</p> <p>For Cosmos DB, throughput is measured in request units (RU)is also billed. The database is provisioned with a level of throughput in increments of 100 RU per second. These are billed hourly and you can elastically scale to meet changes in workload. This is in addition to a storage rate at a higher price per GB. Therefore, if your requirements are more modest and you don't have the need for the additional performance and redundancy options, Azure Table Storage could be an option. But this may seem like something that's very difficult to calculate, but there is an online tool that makes it easy for you to estimate costs.</p> <img src="/AzureTipsAndTricks/files/azure-cosmos-planner.png"> <p>Calculator for estimating request units and data storage can be found at : https://www.documentdb.com/capacityplanner.</p> <h4 id="consistent-api"><a href="#consistent-api" aria-hidden="true" class="header-anchor">#</a> Consistent API</h4> <p>Both Azure Table Storage and Azure Cosmos DB support the same <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/table-introduction" target="_blank" rel="noopener noreferrer">Table API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. SDKs are available for common programming environments along with a generic REST API. Because Cosmos DB exposes a superset of functionality, there are some overloaded API methods to specify additional options. The common API makes it easier to migrate a solution from Azure Table Storage to Cosmos DB as it grows. It also makes learning the API easier. You can target Azure Table Storage, Azure Cosmos DB, or the Azure storage emulator running location by simply replacing the connection string.</p> <h4 id="a-code-sample"><a href="#a-code-sample" aria-hidden="true" class="header-anchor">#</a> A Code Sample</h4> <p>Sometimes I like to just look at the code vs. writing a full app and here is an example of accessing the Table API mentioned above.</p> <p>In code, I'd create an instance of <strong>CloudStorageAccount</strong> passing your connection string. Then, from this object, you can call <strong>CreateCloudTableClient()</strong> to return the <strong>CloudTableClient</strong> object that can work with the Table Storage or Cosmos DB instance. To create a new table requires just two further lines of code: first, <strong>GetTableReference(tablename)</strong>; then, call <strong>CreateIfNotExists</strong> on the returned <strong>CloudTable</strong>.</p> <p>To create entities to store in your table, they have to be classes derived from <strong>TableEntity</strong>. This base class handles the serialization of the entity into a format that can be stored in the database. It also has standard properties for <strong>PartitionKey</strong> and <strong>RowKey</strong> that provide a unique identity for the item.</p> <p>An individual operation on the table is performed with either a <strong>TableOperation</strong> or a <strong>TableBatchOperation</strong> for multiple items. You create a new operation, set up the actions to perform, and then call Execute on the <strong>CloudTable</strong> passing the operation object.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>EmployeeEntity employee1 = new EmployeeEntity(&quot;Case&quot;, &quot;Justin&quot;);
employee1.Email = &quot;justin@contoso.com&quot;;
employee1.PhoneNumber = &quot;425-555-0101&quot;;

// Create the TableOperation object that inserts the employee entity.
TableOperation insertOperation = TableOperation.Insert(employee1);

// Execute the insert operation.
table.Execute(insertOperation);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>In addition to <strong>Insert</strong>, <strong>Retrieve</strong>, <strong>Replace</strong>, and <strong>Delete</strong> operations, there is an <strong>InsertOrReplace</strong> operation that will overwrite an entity matching the partition and row key.</p> <h4 id="migration"><a href="#migration" aria-hidden="true" class="header-anchor">#</a> Migration</h4> <p>If you have existing data in Azure Table Storage, you can migrate it to Cosmos DB using the <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/import-data" target="_blank" rel="noopener noreferrer">Data Migration tool<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-use-azcopy" target="_blank" rel="noopener noreferrer">AzCopy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Cosmos also supports import from other databases such as MongoDB. You may choose to start development with Table Storage and then migrate to Cosmos as your requirements evolve. Because the API is the same there is no impact to the code you write.</p> <h4 id="wrapping-up"><a href="#wrapping-up" aria-hidden="true" class="header-anchor">#</a> Wrapping up</h4> <p>So far we've covered a lot of information, this handy table below should help make sense of it all.</p> <table><thead><tr><th></th> <th>Azure Table Storage</th> <th>Azure Cosmos DB</th></tr></thead> <tbody><tr><td>Throughput</td> <td>Up to 20K operations per second</td> <td>No upper limit, supports &gt;10M operations per second</td></tr> <tr><td>Redundancy</td> <td>One optional secondary read-only region</td> <td>Multiple configurable worldwide regions</td></tr> <tr><td>Latency</td> <td>No upper bounds</td> <td>Single-digit milliseconds</td></tr> <tr><td>Consistency</td> <td>Strong and Eventual consistency models</td> <td>Five defined consistency models</td></tr> <tr><td>Query</td> <td>Optimized for query on primary key</td> <td>Improved query performance because all fields are indexed</td></tr> <tr><td>Failover</td> <td>Can't initiate failover</td> <td>Automatic and manual failovers</td></tr> <tr><td>Billing</td> <td>Storage-based</td> <td>Throughput-based</td></tr></tbody></table> <p>Cosmos DB is a superset of the Azure Table Storage functionality. You will choose Cosmos DB when you need multiple region redundancy, the highest throughput, minimal latency, or control of failover scenarios. You can learn more about the differences between Azure Table Storage and Cosmos DB, along with the Table API <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/table-introduction" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Thanks for reading and until next time! MC signing off.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/microsoft/azuretipsandtricks/edit/master/blog/tip166.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/AzureTipsAndTricks/blog/tip152.html" class="prev">
          Tip 152 - Get the Record Count in Cosmos DB
        </a></span> <span class="next"><a href="/AzureTipsAndTricks/blog/tip167.html">
          Tip 167 - Migrating Data from Cosmos DB to Local JSON files
        </a>
        →
      </span></p></div> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/AzureTipsAndTricks/assets/js/app.2e99b779.js" defer></script><script src="/AzureTipsAndTricks/assets/js/4.42b4ecad.js" defer></script><script src="/AzureTipsAndTricks/assets/js/78.969ebd2d.js" defer></script>
  </body>
</html>
